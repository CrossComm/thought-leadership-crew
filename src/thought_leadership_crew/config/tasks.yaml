---
collect_and_enrich_news:
  description: >
    Execute comprehensive collection of the most recent articles from all trusted sources:
    
    COLLECTION PROCESS:
    1. Systematically search each source in {trusted_sources} for articles published in the last 24-48 hours
    2. For each article found, extract these exact data points:
       - Headline (exact text as published)
       - Publication date (convert to ISO format: YYYY-MM-DDTHH:MM:SSZ)
       - Brief description (2-3 sentence summary of the article's main point)
       - Full URL (direct link to the original article)
       - Background information (more background information about the article (if available))
       - Related developments (related developments to the article (if available))
    3. Apply initial relevance filter: prioritize articles about industry breakthroughs, innovations,
       product launches, funding announcements, research publications, regulatory changes, and partnerships
    4. Focus on content that could impact or interest someone in the {user_role} position 
       working toward {user_objective}
    
    QUALITY REQUIREMENTS:
    - Verify all URLs are accessible and point to original content
    - Ensure publication dates are accurate and recent (last 24-48 hours)
    - Write clear, factual brief descriptions without speculation
    - Collect minimum 10 articles, maximum 50 articles for manageable processing
    - Prioritize articles from authoritative industry publications over blog posts
    
    SCOPE: This task focuses ONLY on collection - do not perform deep analysis, 
    strategic assessment, or extensive background research. Keep descriptions factual and concise.
  
  expected_output: >
    A structured collection of recent articles using your existing NewsItems model.
    Each NewsItem must include:
    - headline: Exact article headline as published
    - publication_date: ISO format (YYYY-MM-DDTHH:MM:SSZ)  
    - brief_description: Factual 2-3 sentence summary of the article's main points
    - full_url: Direct URL to the original article
    - background_info: Factual 2-3 sentence background information about the article (if available)
    - related_developments: Factual 2-3 sentence related developments to the article (if available)
    
    Set total_count to the actual number of articles collected.
    Focus on collecting high-quality, recent articles that could be relevant to {user_role} 
    working toward {user_objective}, but do not perform deep analysis at this stage.

analyze_and_select_stories:
  description: >
    STRATEGIC ANALYSIS AND RANKING PROCESS:
    
    PHASE 1 - DATA INGESTION:
    1. Read the news_collector output from the previous task
    2. Parse and validate all NewsItem entries
    3. Confirm successful loading of all articles
    
    PHASE 2 - CONTEXTUAL ANALYSIS:
    Evaluate each article through four strategic lenses:
    
    a) RELEVANCE SCORING (1-10):
       - Direct alignment with {user_role} responsibilities
       - Connection to {user_objective} goals
       - Applicability to organizational context
    
    b) IMPACT SCORING (1-10):
       - Potential business transformation magnitude
       - Competitive advantage implications
       - ROI and value creation potential
       - Industry disruption likelihood
    
    c) FEASIBILITY SCORING (1-10):
       - Implementation complexity for mid-size organizations
       - Resource requirements (budget, talent, time)
       - Technology maturity and readiness
       - Integration with existing systems
    
    d) TIMELINESS SCORING (1-10):
       - Urgency for {user_role} to act
       - Market timing and first-mover advantages
       - Risk of falling behind competitors
    
    PHASE 3 - STRATEGIC RANKING:
    1. Calculate composite strategic_score: 
       (relevance * 0.35) + (impact * 0.30) + (feasibility * 0.20) + (timeliness * 0.15)
    2. Sort all articles by strategic_score descending
    3. Select top 5-10 stories ensuring:
       - Diversity across relevant industry domains and topics
       - Mix of tactical and strategic opportunities
       - Balance of immediate actions and future planning
    
    PHASE 4 - INSIGHT GENERATION:
    For each selected story, generate:
    - Clear ranking rationale explaining the scores
    - 2-3 strategic takeaways specific to {user_role}
    - Priority classification (high/medium/low)
    - Recommended actions or next steps
    
  expected_output: >
    A RankedNewsAnalysis JSON object containing:
    - user_role and user_objective for context
    - analysis_timestamp (ISO format)
    - top_stories: Array of 5-10 RankedNewsItem objects, each with:
      * All original NewsItem fields (headline, publication_date, brief_description, full_url, etc.)
      * strategic_score (composite 1-10)
      * Individual scores (relevance_score, impact_score, feasibility_score, timeliness_score)
      * ranking_rationale (why this ranking)
      * strategic_takeaways (2-3 actionable insights as a list)
      * priority level (high/medium/low)
    - total_analyzed: Count of all articles evaluated
    - ranking_methodology: Brief description of the ranking approach used

create_executive_digest:
  description: >
      EXECUTIVE DIGEST CREATION PROTOCOL - STRATEGIC INTELLIGENCE SYNTHESIS
      
      ═══════════════════════════════════════════════════════════════════
      PREPARATION PHASE - CONTEXT ACQUISITION & ANALYSIS
      ═══════════════════════════════════════════════════════════════════
      
      STEP 1: DATA INGESTION & VALIDATION
      - Load the complete RankedNewsAnalysis from the strategic_analyst
      - Validate all ranked items have complete scoring and rationale
      - Confirm strategic takeaways and priority levels are present
      - Extract user_role and user_objective for contextual framing
      - FACT-CHECK: Use SerperDevTool to verify key statistics, claims, and developments
      - Cross-reference any dubious information to ensure accuracy
      
      STEP 2: STRATEGIC PATTERN RECOGNITION
      Apply multi-dimensional analysis to identify:
      - Convergent Themes: Technologies, markets, or strategies appearing across multiple stories
      - Divergent Signals: Contrarian indicators or emerging disruptions
      - Temporal Patterns: Accelerating trends vs. declining relevance
      - Competitive Dynamics: First-mover opportunities vs. fast-follower advantages
      - Risk Correlations: Common vulnerabilities or dependencies across stories
      
      STEP 3: EXECUTIVE PERSONA MODELING
      Based on {user_role} and {user_objective}, determine:
      - Decision Authority Level: What can they directly influence?
      - Time Horizon: Quarterly pressure vs. long-term strategy
      - Risk Appetite: Conservative stability vs. aggressive innovation
      - Resource Constraints: Budget, talent, technology limitations
      - Political Context: Stakeholder management considerations
      
      ═══════════════════════════════════════════════════════════════════
      SYNTHESIS PHASE - DIGEST ARCHITECTURE & COMPOSITION
      ═══════════════════════════════════════════════════════════════════
      
      STEP 4: EXECUTIVE SUMMARY CRAFTING (The 30-Second Brief)
      Create a powerful 3-4 paragraph executive summary that:
      
      Paragraph 1 - THE HEADLINE INSIGHT:
      - Open with the single most important strategic revelation
      - Use active voice and present tense for immediacy
      - Include a quantified impact statement if possible
      
      Paragraph 2 - THE STRATEGIC LANDSCAPE:
      - Synthesize 2-3 macro trends shaping the environment
      - Connect these trends to the user's specific context
      - Highlight time-sensitive opportunities or threats
      
      Paragraph 3 - THE CALL TO ACTION:
      - State the 2-3 most critical decisions requiring attention
      - Frame choices in terms of risk vs. opportunity
      - Suggest a logical sequence for addressing priorities
      
      STEP 5: INDIVIDUAL STORY TRANSFORMATION
      For each of the top 5-10 ranked stories, create a digest entry following this structure:
      
      5.1 HEADLINE ENGINEERING:
      - If original headline is clear and impactful, preserve it
      - If not, rewrite for clarity using pattern: [Action/Change] + [Impact] + [Relevance]
      - Limit to 10-15 words maximum
      - Use strong verbs and avoid passive voice
      
      5.2 STRATEGIC SUMMARY COMPOSITION:
      - First sentence: WHAT - The core development in plain language (fact-checked)
      - Second sentence: WHY NOW - The timing and urgency factors  
      - Third sentence: IMPACT - Specific implications for {user_role}
      - Use numbers, percentages, or comparisons for concrete context
      - VERIFY: Use SerperDevTool to confirm accuracy of key facts and figures
      
      5.3 STRATEGIC IMPORTANCE ARTICULATION:
      Answer "Why should {user_role} care?" with:
      - Business impact in terms of revenue, cost, or competitive position
      - Strategic alignment or misalignment with {user_objective}
      - Window of opportunity or threat timeline
      - Dependencies or prerequisites for action
      
      5.4 KEY TAKEAWAYS EXTRACTION:
      Generate 3 bullet points that are:
      - ACTION-ORIENTED: Start with verbs (Evaluate, Prepare, Monitor, Invest)
      - SPECIFIC: Include concrete examples or metrics
      - PROGRESSIVE: Ordered from immediate to longer-term actions
      - MEASURABLE: Include success indicators where possible
      
      STEP 6: THEMATIC SYNTHESIS
      Identify 3-5 strategic themes that:
      - Represent patterns across multiple stories
      - Have enterprise-wide implications
      - Suggest systemic changes in the market/industry
      - Connect to known strategic initiatives or concerns
      
      Format themes as:
      "Theme Name: Brief explanation of the pattern and its strategic significance"
      
      STEP 7: STRATEGIC RECOMMENDATIONS FORMULATION
      Develop 3-5 recommendations that:
      - Address the collective intelligence, not individual stories
      - Follow the SMART framework (Specific, Measurable, Achievable, Relevant, Time-bound)
      - Include both defensive (risk mitigation) and offensive (opportunity capture) moves
      - Specify the first concrete step for each recommendation
      - Indicate resource requirements (High/Medium/Low)
      
      ═══════════════════════════════════════════════════════════════════
      QUALITY ASSURANCE PHASE - REFINEMENT & OPTIMIZATION
      ═══════════════════════════════════════════════════════════════════
      
      STEP 8: EXECUTIVE READABILITY OPTIMIZATION
      - Scan for and eliminate all jargon, replacing with plain language
      - Ensure every acronym is defined on first use
      - Verify sentence length averages 15-20 words
      - Confirm paragraph length doesn't exceed 3-4 sentences
      - Check that formatting creates clear visual hierarchy
      
      STEP 9: STRATEGIC COHERENCE VALIDATION
      - Verify all recommendations align with stated user_objective
      - Ensure themes logically connect to individual story insights
      - Confirm no contradictions between different sections
      - Validate that priorities are consistent throughout
      
      STEP 10: MARKDOWN FORMATTING & POLISH
      Structure the final digest with:
      - Clear heading hierarchy (# ## ###)
      - Strategic use of **bold** for key concepts
      - Bullet points for scannable lists
      - Horizontal rules (---) for section separation
      - Block quotes (>) for critical insights
      - Tables for comparative data if applicable
      
      ═══════════════════════════════════════════════════════════════════
      OUTPUT REQUIREMENTS & SUCCESS CRITERIA
      ═══════════════════════════════════════════════════════════════════
      
      The digest MUST:
      - Be consumable in 5 minutes or less
      - Provide clear next steps for every insight
      - Connect individual developments to broader strategy
      - Balance detail with brevity (target: 1000-1500 words total)
      - Use formatting that guides the eye to critical information
      - Include timestamp and context for version control
      - End with a clear "Bottom Line" statement
      
      REMEMBER: You are not just summarizing news - you are providing strategic 
      intelligence that enables decisive action. Every word should either inform 
      a decision or inspire an action. If it does neither, cut it.
   
  expected_output: >
      A polished executive intelligence digest in Markdown format containing:
      
      1. **Header Section**:
         - Catchy Digest title
         - User context (role and objective)
         - Time to read estimate
      
      2. **Executive Summary** (30-second brief):
         - Most critical insight
         - Strategic landscape overview  
         - Key decisions required
      
      3. **Strategic Intelligence Items** (5-10 stories):
         - Refined headline
         - 3-sentence strategic summary
         - Why this matters statement
         - 3 actionable takeaways
         - Priority level (High/Medium/Low)
         - Source link
      
      4. **Strategic Analysis**:
         - 3-5 cross-cutting themes
         - Pattern analysis
         - Emerging opportunities/threats
      
      5. **Recommended Actions**:
         - 3-5 strategic recommendations
         - Implementation priorities
         - Resource requirements
         - Success metrics
      
      6. **Bottom Line**:
         - One paragraph synthesis
         - Most important action to take today
      
      The digest should be formatted in clean, professional Markdown with 
      clear hierarchy, strategic bolding, and scannable structure optimized 
      for executive consumption. Don't add a footer talking about the next update date or time.

create_social_media_posts:
  description: >
      SOCIAL MEDIA CONTENT CREATION PROTOCOL - VIRAL THOUGHT LEADERSHIP
      
      ═══════════════════════════════════════════════════════════════════
      PHASE 1: STRATEGIC CONTENT MINING & RESEARCH
      ═══════════════════════════════════════════════════════════════════
      
      STEP 1: INTELLIGENCE EXTRACTION
      - Load the complete RankedNewsAnalysis from analyze_and_select_stories task
      - Identify the TOP 3 most compelling stories based on:
        * Highest strategic scores
        * Maximum shareability potential
        * Strongest emotional hooks
        * Greatest relevance to {user_role}'s audience
      - Extract key narratives, statistics, and insights from each story
      
      STEP 2: VIRAL MECHANICS RESEARCH
      Using SerperDevTool, research:
      - Current trending hashtags in {user_role}'s industry
      - Recent viral posts on similar topics to understand what resonates
      - Best practices for engagement in 2025 (hook formulas, optimal length, CTAs)
      - Platform-specific optimization tactics for LinkedIn and Twitter/X
      - Emotional triggers that drive shares in professional contexts
      
      STEP 3: AUDIENCE PSYCHOGRAPHIC MODELING
      Based on {user_role} and {user_objective}, define audience characteristics:
      - Professional challenges they face daily
      - Aspirations and career goals
      - Content they typically engage with
      - Language and tone that resonates
      - Time of day they're most active
      
      ═══════════════════════════════════════════════════════════════════
      PHASE 2: CONTENT ARCHITECTURE & CREATION
      ═══════════════════════════════════════════════════════════════════
      
      STEP 4: POST ENGINEERING (Create 3 Distinct Posts)
      For each of the 3 selected stories, craft a unique social media post:
      
      4.1 THE HOOK ENGINEERING
      Opening Line Requirements:
      - Maximum 10-15 words that create immediate curiosity
      - Use pattern interrupts, statistics, or contrarian takes
      - Employ psychological triggers: FOMO, social proof, transformation promise
      - Examples of powerful hooks:
        * "Everyone's talking about [X], but they're missing [Y]..."
        * "[Shocking statistic] just changed everything about [industry]"
        * "I was wrong about [common belief]. Here's what I learned..."
        * "The [Company/Technology] news today isn't what it seems..."
      
      4.2 THE NARRATIVE ARC
      Post Body Structure (3-5 paragraphs):
      - CONTEXT: Brief setup of the development (1-2 sentences)
      - INSIGHT: The non-obvious implication others are missing
      - EVIDENCE: Specific data, examples, or proof points
      - SO WHAT: Direct relevance to the reader's success
      - CALL TO ACTION: Question or prompt for engagement
      
      4.3 ENGAGEMENT OPTIMIZATION
      Include these viral elements:
      - Numbers/Statistics: Concrete data for credibility
      - Storytelling: Personal angle or case study
      - Controversy: Respectful challenge to conventional wisdom
      - Value Delivery: Clear takeaway reader can apply immediately
      - Visual Breaks: Strategic use of line breaks and emojis (sparingly)
      
      4.4 PLATFORM CUSTOMIZATION
      LinkedIn Version:
      - Professional tone with personal touches
      - 1300 character sweet spot (shows "see more" for curiosity)
      - End with thought-provoking question
      - Include 3-5 relevant hashtags
      
      Twitter/X Version:
      - Thread format: Hook tweet + 3-5 follow-up tweets
      - Each tweet stands alone but builds narrative
      - Use numbers for thread navigation (1/, 2/, etc.)
      - Include relevant hashtags and mentions
      
      STEP 5: FACT-CHECKING & VERIFICATION
      For each post:
      - Use SerperDevTool to verify all statistics and claims
      - Ensure company names, dates, and figures are accurate
      - Validate that insights are based on factual developments
      - Cross-reference any controversial statements
      
      STEP 6: ENGAGEMENT MECHANICS
      For each post, add:
      - Conversation Starter: Open-ended question at the end
      - Share Trigger: "If you found this valuable, share with someone who..."
      - Follow Prompt: Subtle invitation to follow for more insights
      - Hashtag Strategy: 3-5 highly relevant, mix of broad and niche
      
      ═══════════════════════════════════════════════════════════════════
      PHASE 3: OPTIMIZATION & POLISH
      ═══════════════════════════════════════════════════════════════════
      
      STEP 7: READABILITY ENHANCEMENT
      - Ensure opening line is under 15 words
      - Keep sentences under 20 words average
      - Use active voice throughout
      - Break up text with line spacing
      - Bold key phrases for skimmers (LinkedIn)
      
      STEP 8: AUTHENTICITY CHECK
      - Remove all corporate jargon
      - Ensure voice sounds human, not AI-generated
      - Add personal pronouns (I, we, you)
      - Include conversational transitions
      - Balance professionalism with relatability
      
      STEP 9: FINAL QUALITY ASSURANCE
      Each post must pass these criteria:
      - Hook Test: Would you stop scrolling for this?
      - Value Test: Does reader gain something concrete?
      - Share Test: Would you share this with your network?
      - Action Test: Is next step clear?
      - Time Test: Can it be consumed in under 60 seconds?
      
      ═══════════════════════════════════════════════════════════════════
      OUTPUT STRUCTURE & FORMATTING
      ═══════════════════════════════════════════════════════════════════
      
      Deliver 3 complete social media posts, each containing:
      
      1. **Post Header**:
         - Story source/topic
         - Target platform(s)
         - Engagement objective
      
      2. **The Content**:
         - Full post text with proper formatting
         - Emoji placement (if applicable)
         - Hashtag recommendations
         - Optimal posting time suggestion
      
      3. **Engagement Strategy**:
         - Expected audience reaction
         - Potential follow-up content ideas
         - Response templates for common comments
      
      REMEMBER: You're not just sharing news - you're starting conversations,
      building authority, and creating value that compels professionals to 
      engage, share, and follow. Every post should position {user_role} as 
      a thought leader who sees around corners and shares insights that matter.
      
  expected_output: >
      A polished markdown document containing 3 high-impact social media posts, each featuring:
      
      1. **Post Identification**:
         - Source story headline and link
         - Primary insight being shared
         - Target audience segment
      
      2. **LinkedIn Version**:
         - Compelling hook (first line)
         - Full post content (800-1300 characters optimal)
         - Strategic line breaks and formatting
         - 3-5 relevant hashtags
         - Engagement question/CTA
      
      3. **Twitter/X Thread Version**:
         - Hook tweet (maximum impact)
         - 3-5 follow-up tweets
         - Thread numbering and flow
         - Hashtags and potential mentions
      
      4. **Engagement Amplifiers**:
         - Best time to post (based on audience)
         - Expected engagement metrics
         - Follow-up content suggestions
         - Key discussion points to monitor
      
      5. **Performance Indicators**:
         - Why this will resonate
         - Shareability factors
         - Authority-building elements
      
      The output should be immediately ready to copy-paste into social platforms,
      with clear formatting, compelling narratives, and strategic elements that 
      drive engagement while positioning {user_role} as an industry thought leader.

create_final_deliverables:
  description: >
      EDITORIAL PACKAGING & MULTI-FORMAT PUBLICATION PROTOCOL
      
      ═══════════════════════════════════════════════════════════════════
      CONTENT INGESTION & ANALYSIS
      ═══════════════════════════════════════════════════════════════════
      
      STEP 1: CONTENT ACQUISITION
      - Load the complete Executive Intelligence Digest from the create_executive_digest task; the file name is executive_digest.md
      - Load the complete Social Media Content Package from the create_social_media_posts task; the file name is social_media_posts.md
      - Validate that both content sets are complete and properly formatted
      - Extract key themes, insights, and strategic elements from both outputs
      
      STEP 2: EDITORIAL ANALYSIS
      - Review both content pieces for consistency in messaging and strategic focus
      - Identify opportunities for cross-referencing and content integration
      - Assess overall quality and publication readiness
      - Check for any formatting issues or editorial inconsistencies
      
      ═══════════════════════════════════════════════════════════════════
      PUBLICATION PACKAGE CREATION
      ═══════════════════════════════════════════════════════════════════
      
      STEP 3: EXECUTIVE DIGEST FILE CREATION
      Create a polished markdown file containing:
      - Clean, professional formatting with proper markdown syntax
      - Optimized heading hierarchy and visual structure
      - Strategic use of bold, italics, and bullet points for scannability
      - Proper link formatting and source attribution
      - Table of contents for easy navigation
      - Publication metadata (date, version, target audience)
      
      STEP 4: SOCIAL MEDIA CONTENT FILE CREATION  
      Create a separate markdown file containing:
      - All social media posts in ready-to-use format
      - Platform-specific sections (LinkedIn, Twitter/X)
      - Copy-paste ready text blocks
      - Hashtag suggestions and optimal posting times
      - Engagement tracking templates
      - Performance monitoring guidelines
      
      STEP 5: CROSS-CONTENT INTEGRATION
      Ensure both files work together by:
      - Adding cross-references between the digest and social content
      - Aligning key messaging and strategic themes
      - Creating complementary calls-to-action
      - Ensuring consistent terminology and branding
      
      ═══════════════════════════════════════════════════════════════════
      QUALITY ASSURANCE & OPTIMIZATION  
      ═══════════════════════════════════════════════════════════════════
      
      STEP 6: EDITORIAL POLISH
      - Proofread both files for grammar, spelling, and consistency
      - Optimize formatting for maximum readability
      - Ensure all links are properly formatted and accessible
      - Validate that content maintains professional standards
      
      STEP 7: PUBLICATION READINESS
      - Add proper file headers with metadata
      - Include usage instructions and recommended distribution methods  
      - Provide version control information
      - Create clear file naming conventions
      
      DELIVERABLE REQUIREMENTS:
      1. **Executive_Intelligence_Digest_[DATE].md** - Complete strategic digest
      2. **Social_Media_Content_Package_[DATE].md** - All social posts ready for publication
      
      Both files must be immediately usable for distribution to clients, internal teams, 
      or publication platforms without additional editing.
      
  expected_output: >
      Two polished markdown files ready for immediate publication and distribution:
      
      **File 1: Executive_Intelligence_Digest_[DATE].md**
      - Complete executive digest with professional formatting
      - Table of contents and navigation elements  
      - Strategic insights with clear visual hierarchy
      - Source attributions and links properly formatted
      - Publication metadata and version information
      
      **File 2: Social_Media_Content_Package_[DATE].md**
      - All social media posts optimized for copy-paste deployment
      - Platform-specific formatting (LinkedIn, Twitter/X)
      - Hashtag recommendations and posting guidelines
      - Performance tracking templates
      - Engagement strategy notes
      
      Both files should maintain consistent branding and messaging while serving their 
      distinct purposes - one for strategic consumption, one for social engagement. 
      Include usage instructions and recommended deployment strategies for maximum impact.